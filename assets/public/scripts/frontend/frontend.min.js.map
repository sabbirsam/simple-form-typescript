{"version":3,"file":"scripts/frontend/frontend.min.js","mappings":"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","sources":["webpack://simple-form/./assets/src/scripts/frontend.js"],"sourcesContent":["/**\r\n * Load Form \r\n */\r\njQuery(window).on('load', function () {\r\n  var formContainers = jQuery('.simple_form_container');\r\n\r\n  formContainers.each(function () {\r\n      var formId = jQuery(this).data('form-id');\r\n      var nonce = jQuery(this).data('nonce');\r\n      \r\n      // Get the unique markup identifier associated with this shortcode\r\n      var markupId = jQuery(this).find(\".simple_form_loader\").attr(\"id\");\r\n\r\n      jQuery.ajax({\r\n          url: front_end_data.admin_ajax,\r\n          method: 'GET',\r\n          data: {\r\n              action: 'simpleform_table_html',\r\n              nonce: nonce,\r\n              id: formId\r\n          },\r\n          success: function (response) {\r\n              // Use the specific markup element for this shortcode\r\n              const code = jQuery(\"#\" + markupId)[0];\r\n              const formData = response.data.table_settings;\r\n              const addLineBreaks = html => html.replace(new RegExp(\"><\", \"g\"), \">\\n<\");\r\n\r\n              // Grab markup and escape it\r\n              const $markup = jQuery(\"<div/>\");\r\n              $markup.formRender({ formData });\r\n\r\n              // Set the inner HTML with escaped markup\r\n              code.innerHTML = addLineBreaks($markup.formRender(\"html\"));\r\n          },\r\n          error: function (error) {\r\n              // Handle the error for this form\r\n              console.error('Form', formId, 'Error:', error);\r\n          }\r\n      });\r\n  });\r\n});\r\n\r\n\r\n/**\r\n * Submit Form nice one\r\n */\r\n\r\njQuery(window).on('load', function () {\r\n  var formContainers = jQuery('.simple_form_container');\r\n\r\n  formContainers.each(function () {\r\n      var formContainer = jQuery(this);\r\n      var formId = formContainer.data('form-id');\r\n      var nonce = formContainer.data('nonce');\r\n\r\n      // Get the unique markup identifier associated with this shortcode\r\n      var markupId = formContainer.find(\".simple_form_loader\").attr(\"id\");\r\n\r\n      // Find the submit button within the current form container\r\n      var submitButton = formContainer.find('.submit-button');\r\n\r\n      submitButton.on('click', function (event) {\r\n          // Prevent the default form submission behavior\r\n          event.preventDefault();\r\n\r\n          // Serialize the form data\r\n          var formData = formContainer.find('.simple_form').serialize();\r\n\r\n          // Check if form data is empty\r\n          if (formData === \"\") {\r\n              alert(\"Form data is empty. Please fill out the form.\");\r\n              return; // Don't proceed with the AJAX request\r\n          }\r\n\r\n          // Create an AJAX request for the form submission\r\n          jQuery.ajax({\r\n              url: front_end_data.admin_ajax,\r\n              method: 'POST', // Change to POST for form submission\r\n              data: {\r\n                  action: 'simpleform_get_submit_data', // Adjust the action accordingly\r\n                  nonce: nonce,\r\n                  id: formId,\r\n                  form_data: formData, // Include the serialized form data\r\n              },\r\n              success: function (response) {\r\n                  var responseData = response.data;\r\n\r\n                  // Split the form data into key-value pairs\r\n                  var formDataArray = formData.split('&');\r\n                  var formDataObject = {};\r\n\r\n                  formDataArray.forEach(function (item) {\r\n                      var pair = item.split('=');\r\n                      var key = decodeURIComponent(pair[0]);\r\n                      var value = decodeURIComponent(pair[1]);\r\n                      formDataObject[key] = value;\r\n                  });\r\n\r\n                  console.log('Formatted Form Data:', formDataObject);\r\n\r\n                  // Handle the response data as needed\r\n              },\r\n              error: function (error) {\r\n                  // Handle the error for this form\r\n                  console.error('Form', formId, 'Error:', error);\r\n              }\r\n          });\r\n      });\r\n  });\r\n});\r\n\r\n\r\n// Trying to fix here \r\n\r\n// jQuery(window).on('load', function () {\r\n//   var formContainers = jQuery('.simple_form_container');\r\n\r\n//   formContainers.each(function () {\r\n//       var formContainer = jQuery(this);\r\n//       var formId = formContainer.data('form-id');\r\n//       var nonce = formContainer.data('nonce');\r\n\r\n//       // Get the unique markup identifier associated with this shortcode\r\n//       var markupId = formContainer.find(\".simple_form_loader\").attr(\"id\");\r\n\r\n//       // Find the submit button within the current form container\r\n//       var submitButton = formContainer.find('.submit-button');\r\n\r\n//       submitButton.on('click', function (event) {\r\n//           // Prevent the default form submission behavior\r\n//           event.preventDefault();\r\n\r\n//           // Serialize the form data\r\n//           var formData = formContainer.find('.simple_form').serialize();\r\n\r\n//           // Check if form data is empty\r\n//           if (formData === \"\") {\r\n//               alert(\"Form data is empty. Please fill out the form.\");\r\n//               return; // Don't proceed with the AJAX request\r\n//           }\r\n\r\n//             // URL-encode the form data - no use but test later\r\n//             // formData = encodeURIComponent(formData);\r\n\r\n//           // Create an AJAX request for the form submission\r\n//           jQuery.ajax({\r\n//               url: front_end_data.admin_ajax,\r\n//               method: 'POST', // Change to POST for form submission\r\n//               data: {\r\n//                   action: 'simpleform_get_submit_data', // Adjust the action accordingly\r\n//                   nonce: nonce,\r\n//                   id: formId,\r\n//                   form_data: formData, // Include the serialized form data\r\n//               },\r\n//               success: function (response) {\r\n//                   var responseData = response.data;\r\n\r\n//                   // Split the form data into key-value pairs\r\n//                   var formDataArray = formData.split('&');\r\n//                   var formDataObject = {};\r\n\r\n//                   formDataArray.forEach(function (item) {\r\n//                       var pair = item.split('=');\r\n//                       var key = decodeURIComponent(pair[0]);\r\n//                       var value = decodeURIComponent(pair[1]);\r\n//                       formDataObject[key] = value;\r\n//                   });\r\n\r\n//                   /* formDataArray.forEach(function (item) {\r\n//                     var pair = item.split('=');\r\n//                     var key = decodeURIComponent(pair[0]);\r\n//                     var value = decodeURIComponent(pair[1]);\r\n                    \r\n//                     // Properly encode the key and value before adding to formDataObject\r\n//                     formDataObject[key] = encodeURIComponent(value);\r\n//                 }); */\r\n\r\n//                   console.log('Formatted Form Data:', formDataObject);\r\n\r\n//                   // Handle the response data as needed\r\n//               },\r\n//               error: function (error) {\r\n//                   // Handle the error for this form\r\n//                   console.error('Form', formId, 'Error:', error);\r\n//               }\r\n//           });\r\n//       });\r\n//   });\r\n// });\r\n\r\n\r\n\r\n"],"names":["jQuery","window","on","formContainers","each","formId","data","nonce","markupId","find","attr","ajax","url","front_end_data","admin_ajax","method","action","id","success","response","code","formData","table_settings","addLineBreaks","html","replace","RegExp","$markup","formRender","innerHTML","error","console","formContainer","submitButton","event","preventDefault","serialize","alert","form_data","responseData","formDataArray","split","formDataObject","forEach","item","pair","key","decodeURIComponent","value","log"],"sourceRoot":""}